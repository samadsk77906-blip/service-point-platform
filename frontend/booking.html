<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book a Service - Service Point</title>
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/responsive.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-secondary">
  <nav class="navbar">
    <div class="nav-container">
      <a href="index.html" class="nav-logo"><i class="fas fa-car-side"></i><span>Service Point</span></a>
      <div class="nav-menu">
        <a href="index.html#services" class="nav-link">Services</a>
        <a href="user-dashboard.html" class="nav-link">Track Booking</a>
      </div>
      <div class="nav-toggle"><i class="fas fa-bars"></i></div>
    </div>
  </nav>

  <main style="padding-top: 90px;">
    <section class="container" style="margin-bottom: 2rem;">
      <div class="section-header">
        <h2>Book a Vehicle Service</h2>
        <p>Confirm details below and submit your booking</p>
      </div>

      <div class="booking-layout">
        <!-- Booking form -->
        <div class="booking-form card">
          <h3 class="card-title"><i class="fas fa-calendar-check"></i> Booking Details</h3>
          <form id="booking-form" novalidate>
            <div class="form-grid">
              <div class="form-group">
                <label for="userName">Full Name</label>
                <input type="text" id="userName" name="userName" placeholder="Your full name" required>
                <small class="error" data-error-for="userName"></small>
              </div>

              <div class="form-group">
                <label for="userPhone">Mobile Number</label>
                <input type="tel" id="userPhone" name="userPhone" placeholder="10-15 digit phone" required>
                <small class="error" data-error-for="userPhone"></small>
              </div>

              <div class="form-group">
                <label for="userEmail">Email</label>
                <input type="email" id="userEmail" name="userEmail" placeholder="you@example.com" required>
                <small class="error" data-error-for="userEmail"></small>
              </div>

              <div class="form-group">
                <label for="service">Selected Service</label>
                <select id="service" name="service" required>
                  <option value="">Select a service</option>
                  <option value="Towing">Towing</option>
                  <option value="Oil Change">Oil Change</option>
                  <option value="Battery Change">Battery Change</option>
                  <option value="Servicing">Servicing</option>
                  <option value="Inspection">Inspection</option>
                  <option value="Tire Repair">Tire Repair</option>
                  <option value="Engine Repair">Engine Repair</option>
                  <option value="Brake Service">Brake Service</option>
                </select>
                <small class="error" data-error-for="service"></small>
              </div>

              <div class="form-group full">
                <label for="garageId">Select Garage</label>
                <select id="garageId" name="garageId" required>
                  <option value="">Choose a garage</option>
                </select>
                <small class="error" data-error-for="garageId"></small>
              </div>

              <div class="form-group">
                <label for="scheduledDate">Date</label>
                <input type="date" id="scheduledDate" name="scheduledDate" required>
                <small class="error" data-error-for="scheduledDate"></small>
              </div>

              <div class="form-group">
                <label for="scheduledTime">Time</label>
                <input type="time" id="scheduledTime" name="scheduledTime" required>
                <small class="error" data-error-for="scheduledTime"></small>
              </div>

              <div class="form-group full">
                <label for="notes">Additional Notes</label>
                <textarea id="notes" name="notes" rows="4" placeholder="Any specific instructions or vehicle issues..."></textarea>
                <small class="error" data-error-for="notes"></small>
              </div>

              <div class="form-actions full">
                <button type="submit" class="btn btn-primary" id="submit-btn">
                  <i class="fas fa-paper-plane"></i>
                  Submit Booking
                </button>
              </div>
            </div>
          </form>
        </div>

        <!-- Sidebar: Selected garage preview -->
        <aside class="booking-aside card">
          <h3 class="card-title"><i class="fas fa-warehouse"></i> Selected Garage</h3>
          <div id="selected-garage" class="selected-garage empty">
            <p>Select a garage to see details here.</p>
          </div>
          <hr style="margin: 1rem 0; border: none; border-top: 1px solid #eee;">
          <h3 class="card-title" style="margin-top: 0.5rem;"><i class="fas fa-location-dot"></i> Filter by Location</h3>
          <div class="filter-mini">
            <select id="country" class="filter-mini-input">
              <option value="">Country</option>
            </select>
            <select id="state" class="filter-mini-input" disabled>
              <option value="">State</option>
            </select>
            <select id="city" class="filter-mini-input" disabled>
              <option value="">City</option>
            </select>
            <select id="district" class="filter-mini-input" disabled>
              <option value="">District</option>
            </select>
            <button class="btn btn-outline btn-small" id="refresh-garages">
              <i class="fas fa-rotate"></i> Refresh Garages
            </button>
          </div>
        </aside>
      </div>
    </section>
  </main>

  <!-- Toast -->
  <div id="toast" class="toast">
    <div class="toast-content">
      <i id="toast-icon" class="fas fa-check-circle"></i>
      <span id="toast-message">Message</span>
    </div>
  </div>

  <!-- Success Modal -->
  <div id="success-modal" class="modal" style="display:none;">
    <div class="modal-content" style="max-width: 520px;">
      <div class="modal-header">
        <h2><i class="fas fa-check-circle" style="color:#10b981"></i> Booking Successful</h2>
        <span class="modal-close" data-close-modal>&times;</span>
      </div>
      <div class="modal-body">
        <p id="success-text">Your booking ID is <strong>XXXXX</strong>.</p>
        <div style="margin-top: 1rem; display:flex; gap:.5rem; flex-wrap:wrap;">
          <a id="track-link" class="btn btn-outline" href="#"><i class="fas fa-location-arrow"></i> Track Booking</a>
          <a class="btn btn-primary" href="index.html"><i class="fas fa-house"></i> Back to Home</a>
        </div>
      </div>
    </div>
  </div>

  <script src="js/config.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/api.js"></script>
  <script src="js/booking.js"></script>
</body>
</html>

